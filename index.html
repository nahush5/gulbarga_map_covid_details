<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <style>
      path:hover {fill: #002868;}
    </style>
    <title>Gulbarga Covid Resources - Dashboard</title>

    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="css/sb-admin-2.min.css" rel="stylesheet">

</head>

<body id="page-top">

        <div id="content-wrapper" class="d-flex flex-column">
                <div class="container-fluid">

                    <!-- Page Heading -->
                    <div class="d-sm-flex align-items-center justify-content-between mb-4">
                        <h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
                    </div>

                    <!-- Content Row -->
                    <div class="row">

                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-success shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                                Taluk 
                                            </div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">Test</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Earnings (Monthly) Card Example -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-success shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                                Covid Cases 
                                            </div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">Test</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Earnings (Monthly) Card Example -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-info shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                                Beds Required 
                                            </div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">Test</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pending Requests Card Example -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-warning shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                                Oxygen Required
                                            </div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">Test</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Content Row -->

                    <div class="row">

                        <!-- Pie Chart -->
                        <div class="col-xl-4 col-lg-5">
                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div
                                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Gulbarga District</h6>
                                </div>
                                <!-- Card Body -->
                                <div class="card-body">
                                    <div class="chart-pie pt-7 pb-2">
                                        <svg id="gulbarga" version="1.0" width="400.000000pt" height="400.000000pt" viewBox="0 0 300 300" 
                                            preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
                                            <g>
                                                <path
                                                    class="has Aland" d="M 111.709 71.925 L 116.148 61.937 L 125.395 59.348 L 127.245 55.279 L 132.054 55.279 L 138.342 48.621 L 145.74 43.442 L 146.11 36.044 L 130.204 31.606 C 130.204 31.606 115.408 31.236 115.038 30.866 C 114.668 30.496 103.202 16.81 103.202 16.81 L 99.872 21.618 L 95.064 20.139 L 90.255 24.578 L 81.378 30.496 L 79.898 34.565 L 68.431 36.784 L 66.582 43.442 L 71.39 47.881 L 66.952 57.499 C 66.952 57.499 69.171 60.458 69.541 60.828 C 69.911 61.198 75.459 70.445 75.459 70.445 L 83.597 71.925 L 90.625 75.624 L 111.709 71.925 Z" />
                                            </g>
                                            <g>
                                                <path
                                                    class="has Alzapur" d="M 71.39 73.034 L 112.079 73.774 L 108.01 80.432 L 114.298 84.131 L 112.079 89.68 C 112.079 89.68 112.079 92.639 111.709 93.009 C 111.339 93.379 105.421 94.488 105.421 94.488 L 102.092 100.777 L 93.584 97.447 C 93.584 97.447 77.309 105.215 76.939 105.215 C 76.569 105.215 71.39 102.626 71.39 102.626 L 71.39 97.078 L 56.594 99.297 L 40.689 85.241 L 35.14 84.501 L 31.811 73.034 L 38.469 68.965 L 45.867 70.075 L 55.115 66.746 L 63.992 70.445 L 66.212 70.445 L 71.39 73.034 Z" />
                                            </g>
                                            <g>
                                                <path
                                                    class="has Kalaburagi" d="M 109.86 78.953 L 115.408 68.596 L 115.038 63.787 L 125.026 60.458 L 126.135 54.539 L 131.314 55.279 L 145 43.442 L 146.48 36.414 L 148.329 29.016 L 163.865 30.126 L 169.783 27.907 L 174.592 43.073 C 174.592 43.073 166.824 44.922 166.454 45.292 C 166.084 45.662 162.755 53.06 162.755 53.06 L 151.288 64.897 L 159.796 77.473 L 143.151 90.419 L 138.342 87.09 L 135.383 91.529 L 140.561 97.078 L 135.383 112.983 L 123.916 108.175 L 123.916 98.927 C 123.916 98.927 118.737 98.927 119.107 98.557 C 119.477 98.187 112.079 108.914 112.079 108.914 L 107.27 106.325 C 107.27 106.325 102.832 108.914 102.092 108.914 C 101.352 108.914 92.105 105.585 92.105 105.585 L 95.434 99.297 L 103.571 99.297 L 112.819 90.05" />
                                            </g>
                                            <g>
                                                <path
                                                    class="has Chinchola" d="M 175.332 34.77 L 183.099 34.77 L 191.607 39.949 L 195.306 39.209 L 200.115 41.798 L 210.842 43.648 L 217.13 46.977 L 228.597 44.388 L 244.503 52.156 L 234.515 62.513 L 223.048 68.431 L 223.048 72.5 L 215.651 73.98 L 214.911 84.337 L 210.102 86.556 L 207.143 91.365 L 199.375 87.296 L 186.059 86.926 L 184.209 74.719 L 177.921 72.5 C 177.921 72.5 176.811 68.061 176.441 67.691 C 176.071 67.321 169.783 68.061 169.783 68.061 L 164.974 61.033 L 166.824 53.635 L 164.974 51.046 L 164.974 46.607 L 173.852 44.758 L 175.332 34.77 Z" />
                                            </g>
                                            <g>
                                                <path
                                                    class="has Sedam" d="M 205.293 95.434 L 215.281 106.901 L 222.679 117.258 C 222.679 117.258 220.089 121.327 219.719 121.696 C 219.349 122.065 219.719 127.615 219.719 127.615 L 217.5 133.163 L 215.281 138.342 L 196.786 128.724 L 191.237 129.094 L 181.62 123.546 L 182.73 118.737 L 179.77 115.038 L 180.88 108.38 L 173.482 100.242 C 173.482 100.242 173.112 83.967 182.73 86.186 C 192.348 88.405 201.964 86.926 201.964 86.926 L 205.293 95.434 Z" />
                                            </g>
                                            <g>
                                                <path
                                                    class="has Chitapur" d="M 178.291 126.135 L 166.824 132.793 L 159.796 129.464 L 152.768 138.342 L 150.548 142.041 L 137.972 139.821 L 146.11 132.793 L 143.89 126.875 L 147.219 121.696 L 138.342 110.599 L 140.561 97.283 L 136.492 90.625 C 136.492 90.625 137.232 87.296 137.972 87.296 C 138.712 87.296 145.74 92.105 145.74 92.105 L 161.276 78.048 L 152.028 65.842 L 163.495 53.265 L 164.235 61.773 L 167.194 69.171 L 173.482 69.541 L 176.441 75.089 L 182.36 76.199 L 182.36 81.747 L 172.003 86.186 L 172.003 95.064 L 171.633 104.681 L 177.551 108.38 L 176.441 115.408 L 179.77 118.737 L 178.291 126.135 Z" />
                                            </g>
                                            <g>
                                                <path
                                                    class="has Jevargi" d="M 78.048 108.38 L 92.844 99.133 L 90.625 107.27 L 98.023 110.599 L 106.531 109.12 L 112.079 113.189 L 119.477 101.722 L 122.066 102.092 L 121.327 110.599 L 130.574 115.408 L 137.972 113.929 L 144.26 120.957 L 141.671 127.985 L 143.52 132.054 L 136.862 135.383 C 136.862 135.383 130.944 145 130.574 145.37 C 130.204 145.74 123.546 146.48 123.546 146.48 L 122.066 152.768 L 116.148 151.658 L 113.929 158.316 L 108.01 155.727 C 108.01 155.727 104.311 156.097 103.941 156.467 C 103.571 156.837 99.872 161.276 98.763 161.276 C 97.654 161.276 89.885 159.056 89.885 159.056 L 83.227 163.865 L 79.158 151.288 L 71.02 149.069 L 71.39 143.89 C 71.39 143.89 66.952 138.712 67.321 138.342 C 67.69 137.972 81.378 137.232 81.378 137.232 L 81.747 126.875 L 75.459 125.765 L 78.048 108.38 Z" />
                                            </g>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

        </div>
        <!-- End of Content Wrapper -->

    </div>

    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="vendor/chart.js/Chart.min.js"></script>

    <!-- Page level custom scripts -->
    <script>
        function lol(val, box) {

        }

        function getVal(mouse, box, name, num) {
            let xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function () {
              if (this.readyState == 4 && this.status == 200) {
                let data = JSON.parse(this.responseText).feed.entry;
                let i;
                for (i = 0; i < data.length; i++) {
                    let val = name.localeCompare(data[i]["gsx$taluks"]["$t"]);
                    if (val != 0) {
                        continue;
                    }

                    if (num == 0) {
                        box.innerHTML = data[i]["gsx$taluks"]["$t"];
                        console.log(mouse.clientX+"|"+mouse.clientY);
                        box.style.top = mouse.clientX + "px";
                        box.style.left = mouse.clientY + "px";
                        box.setAttribute("style", "display:block;");
                    } else if (num == 1) {
                        box.innerHTML = data[i]["gsx$covidcases"]["$t"];
                        console.log(mouse.clientX+"|"+mouse.clientY);
                        box.style.top = mouse.clientX + "px";
                        box.style.left = mouse.clientY + "px";
                        box.setAttribute("style", "display:block;");
                    } else if (num == 2) {
                        box.innerHTML = data[i]["gsx$bedsrequired"]["$t"];
                        console.log(mouse.clientX+"|"+mouse.clientY);
                        box.style.top = mouse.clientX + "px";
                        box.style.left = mouse.clientY + "px";
                        box.setAttribute("style", "display:block;");
                    } else {
                        box.innerHTML = data[i]["gsx$oxygenrequired"]["$t"];
                        console.log(mouse.clientX+"|"+mouse.clientY);
                        box.style.top = mouse.clientX + "px";
                        box.style.left = mouse.clientY + "px";
                        box.setAttribute("style", "display:block;");
                    }
                }
              }
            };

            xmlhttp.open(
              "GET",
              "https://spreadsheets.google.com/feeds/list/1_PxAD_NUnOFkvVvqShaMbx0rryKONbGFcyqqpoYtQXY/1/public/full?alt=json",
              true
            );
            xmlhttp.send();
        }

        var svg = document.getElementById("gulbarga");
        var arrHas = svg.getElementsByClassName("has ");
        var list = document.getElementsByClassName("h5 mb-0 font-weight-bold text-gray-800");

        var box = list[0];

        for(idx=0; idx < arrHas.length; idx++){
           var obj = arrHas[idx];
           obj.addEventListener("mouseenter", function(mouse){ 
               mouse.stopPropagation();
               let name = mouse.currentTarget.getAttribute("class").replace("has ","");
               let num0 = 0;
               getVal(mouse, box, name, num0);
             }, false);

            obj.addEventListener("mouseleave", function(){ 
                 box.innerHTML = "Test";
            }, false);
         }

        var box1 = list[1];

        for(idx=0; idx < arrHas.length; idx++){
           var obj = arrHas[idx];
           obj.addEventListener("mouseenter", function(mouse){ 
               mouse.stopPropagation();
               let name = mouse.currentTarget.getAttribute("class").replace("has ","");
               let num1 = 1;
               getVal(mouse, box1, name, num1);
             }, false);

            obj.addEventListener("mouseleave", function(){ 
                 box1.innerHTML = "Test";
            }, false);
         }

        var box2 = list[2];

        for(idx=0; idx < arrHas.length; idx++){
           var obj = arrHas[idx];
           obj.addEventListener("mouseenter", function(mouse){ 
               mouse.stopPropagation();
               let name = mouse.currentTarget.getAttribute("class").replace("has ","");
               getVal(mouse, box2, name, 2);
             }, false);

            obj.addEventListener("mouseleave", function(){ 
                 box2.innerHTML = "Test";
            }, false);
         }

        var box3 = list[3];

        for(idx=0; idx < arrHas.length; idx++){
           var obj = arrHas[idx];
           obj.addEventListener("mouseenter", function(mouse){ 
               mouse.stopPropagation();
               let name = mouse.currentTarget.getAttribute("class").replace("has ","");
               getVal(mouse, box3, name, 3);
             }, false);

            obj.addEventListener("mouseleave", function(){ 
                 box3.innerHTML = "Test";
            }, false);
         }


    </script>

</body>

</html>